{"ast":null,"code":"import _defineProperty from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\NoteJS\\\\final\\\\src\\\\views\\\\Manager\\\\ManagerNews.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport * as NewsAction from '../../actions/newsAction';\nimport TableRowNews from './table/TableRowNews';\nimport Pagination from '../../pagination/Pagination';\nimport pacman from '../../styles/style/img/core-img/pacman.gif';\nexport var ManagerNews =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManagerNews, _Component);\n\n  function ManagerNews(props) {\n    var _this;\n\n    _classCallCheck(this, ManagerNews);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManagerNews).call(this, props));\n\n    _this.onDelete = function (id) {\n      _this.props.actions.actDeleteNews(id);\n    };\n\n    _this.changeCurrentPage =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(numPage) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.setState({\n                  currentPage: numPage\n                });\n\n              case 2:\n                _context.next = 4;\n                return _this.props.actions.actFetchNewsRequest(numPage - 1, 20);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onHandleChange = function (e) {\n      _this.setState({\n        keyword: e.target.value\n      });\n    };\n\n    _this.onCrawl =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (_this.state.source === \"1\") {\n                _this.props.actions.actCrawlNewsRequest(_this.state.cate);\n              } else {\n                _this.props.actions.actCrawlNewsDantri(_this.state.cate);\n              }\n\n              _context2.next = 3;\n              return _this.setState({\n                loading: true\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.onChange = function (e) {\n      var target = e.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n\n      _this.props.actions.actFetchCategory(value);\n    };\n\n    _this.onChangeCate = function (e) {\n      var target = e.target;\n\n      _this.setState({\n        cate: target.value\n      });\n    };\n\n    _this.onFindUser = function (e) {\n      console.log(_this.state.keyword);\n      e.preventDefault(); //   this.props.onFindUser(this.state.keyword);\n    };\n\n    _this.tabRow = function (news, currentPage) {\n      return news.map(function (object, i) {\n        return React.createElement(TableRowNews, {\n          news: object,\n          key: i,\n          index: i + (currentPage - 1) * 20,\n          onDelete: _this.onDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.onSelect = function (categories) {\n      return categories.map(function (category, i) {\n        return React.createElement(Select, {\n          category: category,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.state = {\n      currentPage: 1,\n      keyword: '',\n      cate: '',\n      source: '',\n      loading: props.loading\n    };\n    return _this;\n  }\n\n  _createClass(ManagerNews, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.actions.actFetchNewsRequest(this.state.currentPage - 1, 20);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          source = _this$state.source,\n          cate = _this$state.cate;\n      var loading = this.props.loading;\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), \"\\xA0 Qu\\u1EA3n l\\xED tin t\\u1EE9c\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"ul\", {\n        className: \"app-breadcrumb breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-home fa-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Tin tuc\")))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"bs-component \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        style: {\n          display: 'flex'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \" \", React.createElement(\"input\", {\n        className: \"btn btn-primary btn-right\",\n        type: \"button\",\n        value: \"+ Th\\xEAm\",\n        onClick: this.onCrawl,\n        style: {\n          marginTop: '1em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        onChange: this.onChange,\n        name: \"source\",\n        value: source,\n        style: {\n          borderRadius: '3px',\n          borderWidth: '2px',\n          width: '10em',\n          padding: '7px 12px',\n          margin: '1em',\n          lineHeight: '21px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Ngu\\u1ED3n\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Vnexpress\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"D\\xE2n tr\\xED\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"\",\n        id: \"\",\n        style: {\n          borderRadius: '3px',\n          borderWidth: '2px',\n          width: '20em',\n          padding: '7px 12px',\n          margin: '1em 0.5em',\n          lineHeight: '21px'\n        },\n        name: \"cate\",\n        value: cate,\n        onChange: this.onChangeCate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Ch\\u1ECDn chuy\\xEAn m\\u1EE5c c\\u1EA7n l\\u1EA5y\"), this.onSelect(this.props.category)))))), React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, loading ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"loading \", React.createElement(\"img\", {\n        src: pacman,\n        alt: \"loading...\",\n        style: {\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })) : null, React.createElement(\"div\", {\n        className: \"tile-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover table-bordered\",\n        id: \"sampleTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"STT\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Ti\\xEAu \\u0111\\u1EC1\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Link\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Chuy\\xEAn m\\u1EE5c\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"H\\xECnh \\u1EA3nh\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Ng\\xE0y \\u0111\\u0103ng\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Cho ph\\xE9p\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Th\\u1EF1c hi\\u1EC7n\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, this.tabRow(this.props.news, this.state.currentPage))), React.createElement(Pagination, {\n        currentPage: this.state.currentPage,\n        totalPages: this.props.totalPages,\n        changeCurrentPage: this.changeCurrentPage,\n        theme: \"default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return ManagerNews;\n}(Component);\n\nvar Select = function Select(_ref3) {\n  var category = _ref3.category;\n  return React.createElement(\"option\", {\n    value: category.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, category.categoryName);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    news: state.news.news,\n    totalPages: state.news.totalPages,\n    category: state.category.category,\n    loading: state.news.loading\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    // fetchAllNews: (currentPage, size) => {\n    //   dispatchEvent(actFetchNewsRequest(currentPage, size))\n    // },\n    // onDeleteNews: id => {\n    //   dispatchEvent(actDeleteNewsRequest(id))\n    // },\n    actions: bindActionCreators(NewsAction, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManagerNews);","map":{"version":3,"sources":["F:\\NoteJS\\final\\src\\views\\Manager\\ManagerNews.js"],"names":["React","Component","connect","Link","bindActionCreators","NewsAction","TableRowNews","Pagination","pacman","ManagerNews","props","onDelete","id","actions","actDeleteNews","changeCurrentPage","numPage","setState","currentPage","actFetchNewsRequest","onHandleChange","e","keyword","target","value","onCrawl","state","source","actCrawlNewsRequest","cate","actCrawlNewsDantri","loading","onChange","name","actFetchCategory","onChangeCate","onFindUser","console","log","preventDefault","tabRow","news","map","object","i","onSelect","categories","category","display","marginTop","borderRadius","borderWidth","width","padding","margin","lineHeight","totalPages","Select","categoryName","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as NewsAction from '../../actions/newsAction'\r\nimport TableRowNews from './table/TableRowNews'\r\nimport Pagination from '../../pagination/Pagination'\r\nimport pacman from '../../styles/style/img/core-img/pacman.gif'\r\n\r\nexport class ManagerNews extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      currentPage: 1,\r\n      keyword: '',\r\n      cate: '',\r\n      source: '',\r\n      loading: props.loading\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.actions.actFetchNewsRequest(this.state.currentPage - 1, 20)\r\n  }\r\n\r\n  onDelete = (id) => {\r\n    this.props.actions.actDeleteNews(id);\r\n  }\r\n  changeCurrentPage = async (numPage) => {\r\n    await this.setState({ currentPage: numPage });\r\n    await this.props.actions.actFetchNewsRequest(numPage - 1, 20);\r\n  }\r\n  onHandleChange = (e) => {\r\n    this.setState({\r\n      keyword: e.target.value\r\n    })\r\n  }\r\n  onCrawl =async () => {\r\n    if(this.state.source===\"1\"){\r\n    this.props.actions.actCrawlNewsRequest(this.state.cate);\r\n    }else{\r\n      this.props.actions.actCrawlNewsDantri(this.state.cate);\r\n    }\r\n   await this.setState({loading:true})\r\n   \r\n  }\r\n  onChange = e => {\r\n    var target = e.target;\r\n    var name = target.name;\r\n    var value = target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n    this.props.actions.actFetchCategory(value);\r\n  }\r\n  onChangeCate= e=>{\r\n    var target = e.target\r\n    this.setState({\r\n      cate: target.value\r\n    })\r\n  }\r\n\r\n  onFindUser = (e) => {\r\n    console.log(this.state.keyword)\r\n    e.preventDefault();\r\n    //   this.props.onFindUser(this.state.keyword);\r\n\r\n  }\r\n  tabRow = (news, currentPage) => {\r\n    return news.map((object, i) => {\r\n      return <TableRowNews news={object} key={i} index={i + (currentPage - 1) * 20} onDelete={this.onDelete} />\r\n    })\r\n  }\r\n  onSelect = (categories) => {\r\n    return categories.map((category, i) => {\r\n      return <Select category={category} key={i} />\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { source, cate } = this.state\r\n    const { loading } = this.props\r\n    console.log(this.props)\r\n    return (\r\n      <div>\r\n        <div className=\"app-title\">\r\n          <div>\r\n            <h1><i className=\"fa fa-user\"></i>&nbsp; Quản lí tin tức</h1>\r\n            <p></p>\r\n          </div>\r\n          <ul className=\"app-breadcrumb breadcrumb\">\r\n            <li className=\"breadcrumb-item\"><i className=\"fa fa-home fa-lg\"></i></li>\r\n            <li className=\"breadcrumb-item\"><a>Tin tuc</a></li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-7\">\r\n            <p className=\"bs-component \">\r\n              <ul style={{ display: 'flex' }}>\r\n                <li> <input className=\"btn btn-primary btn-right\" type=\"button\" value=\"+ Thêm\" onClick={this.onCrawl} style={{ marginTop: '1em' }} /></li>\r\n                <li><select onChange={this.onChange} name=\"source\" value={source} style={{ borderRadius: '3px', borderWidth: '2px', width: '10em', padding: '7px 12px', margin: '1em', lineHeight: '21px' }}>\r\n                  <option value=\"0\">Nguồn</option>\r\n                  <option value=\"1\">Vnexpress</option>\r\n                  <option value=\"2\">Dân trí</option>\r\n\r\n                </select></li>\r\n                <li>\r\n                  <select className=\"\" id=\"\" style={{ borderRadius: '3px', borderWidth: '2px', width: '20em', padding: '7px 12px', margin: '1em 0.5em', lineHeight: '21px' }}\r\n                    name=\"cate\" value={cate} onChange={this.onChangeCate} >\r\n                    <option value=\"0\">Chọn chuyên mục cần lấy</option>\r\n                    {this.onSelect(this.props.category)}\r\n                  </select>\r\n                </li>\r\n\r\n              </ul>\r\n              \r\n            </p>\r\n          </div>\r\n          <div className=\"col-md-12\">\r\n            <div className=\"tile\">\r\n          {loading ? <p>loading <img src={pacman} alt=\"loading...\" style={{margin:'auto'}}/></p> : null}\r\n              <div className=\"tile-body\">\r\n                <table className=\"table table-hover table-bordered\" id=\"sampleTable\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>STT</th>\r\n                      <th>ID</th>\r\n                      <th>Tiêu đề</th>\r\n                      <th>Link</th>\r\n                      <th>Chuyên mục</th>\r\n                      <th>Hình ảnh</th>\r\n                      <th>Ngày đăng</th>\r\n                      <th>Cho phép</th>\r\n                      <th>Thực hiện</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n\r\n                    {this.tabRow(this.props.news, this.state.currentPage)}\r\n                  </tbody>\r\n                </table>\r\n                <Pagination\r\n                  currentPage={this.state.currentPage}\r\n                  totalPages={this.props.totalPages}\r\n                  changeCurrentPage={this.changeCurrentPage}\r\n                  theme=\"default\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nconst Select = ({ category }) => (\r\n  <option value={category.id}>{category.categoryName}</option>\r\n)\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n  news: state.news.news,\r\n  totalPages: state.news.totalPages,\r\n  category: state.category.category,\r\n  loading: state.news.loading\r\n\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n  // fetchAllNews: (currentPage, size) => {\r\n  //   dispatchEvent(actFetchNewsRequest(currentPage, size))\r\n  // },\r\n  // onDeleteNews: id => {\r\n  //   dispatchEvent(actDeleteNewsRequest(id))\r\n  // },\r\n\r\n  actions: bindActionCreators(NewsAction, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManagerNews)\r\n"]},"metadata":{},"sourceType":"module"}