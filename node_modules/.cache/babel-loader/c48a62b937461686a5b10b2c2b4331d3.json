{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\NoteJS\\\\final\\\\src\\\\views\\\\Manager\\\\create\\\\CreateUser.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { actAddUserRequest, actGetUserRequest, actUpdateUserRequest } from '../../../actions/managerAction';\nimport DropzoneImg from '../../elements/DropzoneImg';\n\nvar CreateUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateUser, _Component);\n\n  function CreateUser(props) {\n    var _this;\n\n    _classCallCheck(this, CreateUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateUser).call(this, props));\n\n    _this.onChange = function (e) {\n      var target = e.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.onHandleImage = function (url) {\n      _this.setState({\n        txtAvatar: url\n      });\n\n      console.log(url);\n    };\n\n    _this.onValiations = function (txtUsername, txtAddress, txtPassword, txtEmail, txtPhone) {\n      var emailPatt = /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i;\n      var userPatt = /^[\\w+.@#$]{20}$/;\n      var phonePatt = /^[\\d+-]{13}$/g;\n      var addressPatt = /^[\\w+-]{50}$/g;\n\n      if (txtEmail !== null) {\n        var isEmailCorrect = emailPatt.test(txtEmail);\n\n        if (isEmailCorrect) {\n          _this.setState({\n            isEmailCorrect: true\n          });\n        } else {\n          _this.setState({\n            isEmailCorrect: false\n          });\n        }\n      }\n\n      if (txtUsername !== null) {\n        var isUserCorrect = userPatt.test(txtUsername);\n\n        if (isUserCorrect) {\n          _this.setState({\n            isUsernameCorrect: true\n          });\n        } else {\n          _this.setState({\n            isUsernameCorrect: false\n          });\n        }\n      }\n\n      if (txtPassword !== null) {\n        if (txtPassword.length >= 6) {\n          _this.setState({\n            isPasswordCorrect: true\n          });\n        } else {\n          _this.setState({\n            isPasswordCorrect: false\n          });\n        }\n      }\n\n      if (txtPhone !== null) {\n        var isPhoneCorrect = phonePatt.test(txtPhone);\n\n        if (isPhoneCorrect) {\n          _this.setState({\n            isPhoneCorrect: true\n          });\n        } else {\n          _this.setState({\n            isPhoneCorrect: false\n          });\n        }\n      }\n\n      if (txtAddress !== null) {\n        var isAddressCorrect = addressPatt.test(txtAddress);\n\n        if (isAddressCorrect) {\n          _this.setState({\n            isAddressCorrect: true\n          });\n        } else {\n          _this.setState({\n            isAddressCorrect: false\n          });\n        }\n      }\n    };\n\n    _this.onSave =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var history, _this$state, id, txtEmail, txtPassword, txtAddress, txtName, txtUsername, txtPhone, role, txtBirthday, txtSkill, sex, txtAvatar, isUsernameCorrect, isPasswordCorrect, isAddressCorrect, isEmailCorrect, isPhoneCorrect, user;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                history = _this.props.history;\n                _this$state = _this.state, id = _this$state.id, txtEmail = _this$state.txtEmail, txtPassword = _this$state.txtPassword, txtAddress = _this$state.txtAddress, txtName = _this$state.txtName, txtUsername = _this$state.txtUsername, txtPhone = _this$state.txtPhone, role = _this$state.role, txtBirthday = _this$state.txtBirthday, txtSkill = _this$state.txtSkill, sex = _this$state.sex, txtAvatar = _this$state.txtAvatar, isUsernameCorrect = _this$state.isUsernameCorrect, isPasswordCorrect = _this$state.isPasswordCorrect, isAddressCorrect = _this$state.isAddressCorrect, isEmailCorrect = _this$state.isEmailCorrect, isPhoneCorrect = _this$state.isPhoneCorrect;\n                user = {\n                  name: txtName,\n                  username: txtUsername,\n                  fullname: txtName,\n                  email: txtEmail,\n                  password: txtPassword,\n                  avatar: txtAvatar,\n                  mobile: txtPhone,\n                  address: txtAddress,\n                  skill: txtSkill,\n                  roles: role,\n                  sex: sex,\n                  birthday: txtBirthday\n                };\n                _context.next = 6;\n                return _this.onValiations(txtUsername, txtAddress, txtPassword, txtEmail, txtPhone);\n\n              case 6:\n                if (!(isUsernameCorrect && isPasswordCorrect && isAddressCorrect && isEmailCorrect && isPhoneCorrect)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                if (!id) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 10;\n                return _this.props.onUpdateUser(id, user);\n\n              case 10:\n                _context.next = 14;\n                break;\n\n              case 12:\n                _context.next = 14;\n                return _this.props.onAddUser(user);\n\n              case 14:\n                history.goBack();\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      id: '',\n      txtUsername: '',\n      txtPassword: '',\n      txtAddress: '',\n      sex: \"1\",\n      txtEmail: '',\n      fileInput: '',\n      txtPhone: '',\n      txtBirthday: '',\n      txtAvatar: '',\n      txtName: '',\n      role: 'ROLE_USER',\n      isEmailCorrect: true,\n      isUsernameCorrect: true,\n      isPhoneCorrect: true,\n      isAddressCorrect: true,\n      isPasswordCorrect: true\n    };\n    return _this;\n  }\n\n  _createClass(CreateUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var match = this.props.match;\n\n      if (match) {\n        var id = match.params.id;\n        this.props.onEditUser(id);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps && nextProps.itemEditing) {\n        var itemEditing = nextProps.itemEditing;\n        this.setState({\n          id: itemEditing.id,\n          txtEmail: itemEditing.email,\n          txtPassword: itemEditing.password,\n          txtAvatar: itemEditing.avatar,\n          role: itemEditing.role,\n          txtSkill: itemEditing.skill,\n          txtUsername: itemEditing.username,\n          txtName: itemEditing.name,\n          txtAddress: itemEditing.address,\n          txtBirthday: itemEditing.birthday,\n          txtPhone: itemEditing.mobile\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          id = _this$state2.id,\n          txtUsername = _this$state2.txtUsername,\n          txtPassword = _this$state2.txtPassword,\n          txtEmail = _this$state2.txtEmail,\n          txtSkill = _this$state2.txtSkill,\n          txtPhone = _this$state2.txtPhone,\n          txtBirthday = _this$state2.txtBirthday,\n          txtAddress = _this$state2.txtAddress,\n          role = _this$state2.role,\n          txtName = _this$state2.txtName,\n          txtAvatar = _this$state2.txtAvatar,\n          isAddressCorrect = _this$state2.isAddressCorrect,\n          isEmailCorrect = _this$state2.isEmailCorrect,\n          isPasswordCorrect = _this$state2.isPasswordCorrect,\n          isPhoneCorrect = _this$state2.isPhoneCorrect,\n          isUsernameCorrect = _this$state2.isUsernameCorrect;\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        value: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"exampleInputEmail1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"exampleInputEmail1\",\n        type: \"email\",\n        \"aria-describedby\": \"emailHelp\",\n        placeholder: \"Enter email\",\n        name: \"txtEmail\",\n        value: txtEmail,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), isEmailCorrect ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Email is invalid\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleInputPassword1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"exampleInputPassword1\",\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"txtPassword\",\n        value: txtPassword,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })), isPasswordCorrect ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Password at least 6 characters\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleSelect1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Quy\\u1EC1n\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"exampleSelect1\",\n        onChange: this.onChange,\n        value: role,\n        name: \"role\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: \"selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(\"option\", {\n        name: \"User\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"ROLE_USER\"), React.createElement(\"option\", {\n        name: \"Admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"ROLE_ADMIN\"))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleTextarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"K\\u1EF9 n\\u0103ng\"), React.createElement(\"textarea\", {\n        className: \"form-control\",\n        id: \"exampleTextarea\",\n        rows: 3,\n        name: \"txtSkill\",\n        value: txtSkill,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleInputFile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"File input\"), React.createElement(DropzoneImg, {\n        onHandleAvatar: this.onHandleImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      })), id ? React.createElement(Image, {\n        publicId: txtAvatar,\n        type: \"fetch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Transformation, {\n        width: \"200\",\n        height: \"200\",\n        gravity: \"face\",\n        radius: \"max\",\n        crop: \"fill\",\n        fetchFormat: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      })) : null), React.createElement(\"div\", {\n        className: \"col-lg-4 offset-lg-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-form-label\",\n        htmlFor: \"inputDefault\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"inputDefault\",\n        type: \"text\",\n        name: \"txtUsername\",\n        value: txtUsername,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleInputName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"H\\u1ECD t\\xEAn\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"exampleInputPassword1\",\n        type: \"text\",\n        placeholder: \"Name\",\n        name: \"txtName\",\n        value: txtName,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-form-label\",\n        htmlFor: \"inputDefault\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"inputDefault\",\n        type: \"text\",\n        name: \"txtAddress\",\n        value: txtAddress,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), isAddressCorrect ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Address at least 4 characters\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-form-label\",\n        htmlFor: \"inputDefault\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"inputDefault\",\n        type: \"text\",\n        name: \"txtPhone\",\n        value: txtPhone,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-form-label\",\n        htmlFor: \"inputDefault\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Ng\\xE0y sinh\"), React.createElement(\"input\", {\n        type: \"date\",\n        id: \"actor-input\",\n        name: \"txtBirthday\",\n        className: \"form-control\",\n        value: txtBirthday,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"tile-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"Save\"), \"\\xA0 \\xA0\", React.createElement(Link, {\n        to: \"/manager/user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger btn-sm\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Back\")))))));\n    }\n  }]);\n\n  return CreateUser;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    itemEditing: state.itemEditing\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onAddUser: function onAddUser(user) {\n      dispatch(actAddUserRequest(user));\n    },\n    onEditUser: function onEditUser(id) {\n      dispatch(actGetUserRequest(id));\n    },\n    onUpdateUser: function onUpdateUser(id, user) {\n      dispatch(actUpdateUserRequest(id, user));\n    }\n  };\n};\n\nvar CreateUserWithRouter = withRouter(CreateUser);\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUserWithRouter);","map":{"version":3,"sources":["F:\\NoteJS\\final\\src\\views\\Manager\\create\\CreateUser.js"],"names":["React","Component","Link","connect","withRouter","actAddUserRequest","actGetUserRequest","actUpdateUserRequest","DropzoneImg","CreateUser","props","onChange","e","target","name","value","type","checked","setState","onHandleImage","url","txtAvatar","console","log","onValiations","txtUsername","txtAddress","txtPassword","txtEmail","txtPhone","emailPatt","userPatt","phonePatt","addressPatt","isEmailCorrect","test","isUserCorrect","isUsernameCorrect","length","isPasswordCorrect","isPhoneCorrect","isAddressCorrect","onSave","preventDefault","history","state","id","txtName","role","txtBirthday","txtSkill","sex","user","username","fullname","email","password","avatar","mobile","address","skill","roles","birthday","onUpdateUser","onAddUser","goBack","fileInput","match","params","onEditUser","nextProps","itemEditing","mapStateToProps","mapDispatchToProps","dispatch","CreateUserWithRouter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router'\r\n\r\nimport { actAddUserRequest, actGetUserRequest, actUpdateUserRequest } from '../../../actions/managerAction';\r\nimport DropzoneImg from '../../elements/DropzoneImg';\r\nclass CreateUser extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      id: '',\r\n      txtUsername: '',\r\n      txtPassword: '',\r\n      txtAddress: '',\r\n      sex: \"1\",\r\n      txtEmail: '',\r\n      fileInput: '',\r\n      txtPhone: '',\r\n      txtBirthday: '',\r\n      txtAvatar:'',\r\n      txtName: '',\r\n      role: 'ROLE_USER',\r\n      isEmailCorrect: true,\r\n      isUsernameCorrect: true,\r\n      isPhoneCorrect: true,\r\n      isAddressCorrect: true,\r\n      isPasswordCorrect: true\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    var { match } = this.props;\r\n    if (match) {\r\n      var id = match.params.id;\r\n      this.props.onEditUser(id);\r\n    }\r\n\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps && nextProps.itemEditing) {\r\n      const { itemEditing } = nextProps;\r\n      this.setState({\r\n        id: itemEditing.id,\r\n        txtEmail: itemEditing.email,\r\n        txtPassword: itemEditing.password,\r\n        txtAvatar: itemEditing.avatar,\r\n        role: itemEditing.role,\r\n        txtSkill: itemEditing.skill,\r\n        txtUsername: itemEditing.username,\r\n        txtName: itemEditing.name,\r\n        txtAddress: itemEditing.address,\r\n        txtBirthday: itemEditing.birthday,\r\n        txtPhone: itemEditing.mobile\r\n      })\r\n    }\r\n  }\r\n  onChange = (e) => {\r\n    const target = e.target;\r\n    const name = target.name;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n\r\n  }\r\n  onHandleImage = (url) => {\r\n    this.setState({\r\n      txtAvatar: url\r\n    })\r\n    console.log(url)\r\n  }\r\n \r\n\r\n  onValiations = (txtUsername, txtAddress, txtPassword, txtEmail, txtPhone) => {\r\n\r\n    const emailPatt = (/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n    const userPatt = /^[\\w+.@#$]{20}$/;\r\n    const phonePatt = /^[\\d+-]{13}$/g;\r\n    const addressPatt = /^[\\w+-]{50}$/g;\r\n\r\n    if (txtEmail !== null) {\r\n      let isEmailCorrect = emailPatt.test(txtEmail);\r\n      if (isEmailCorrect) {\r\n        this.setState({ isEmailCorrect: true })\r\n      } else {\r\n        this.setState({ isEmailCorrect: false })\r\n      }\r\n    }\r\n    if (txtUsername !== null) {\r\n      let isUserCorrect = userPatt.test(txtUsername);\r\n      if (isUserCorrect) {\r\n        this.setState({ isUsernameCorrect: true })\r\n      } else {\r\n        this.setState({ isUsernameCorrect: false })\r\n      }\r\n    }\r\n    if (txtPassword !== null) {\r\n      if (txtPassword.length >= 6) { this.setState({ isPasswordCorrect: true }) }\r\n      else {\r\n        this.setState({ isPasswordCorrect: false })\r\n      }\r\n    }\r\n    if (txtPhone !== null) {\r\n      let isPhoneCorrect = phonePatt.test(txtPhone);\r\n      if (isPhoneCorrect) {\r\n        this.setState({ isPhoneCorrect: true })\r\n      } else {\r\n        this.setState({ isPhoneCorrect: false })\r\n      }\r\n    }\r\n    if (txtAddress !== null) {\r\n      let isAddressCorrect = addressPatt.test(txtAddress);\r\n      if (isAddressCorrect) {\r\n        this.setState({ isAddressCorrect: true })\r\n      } else {\r\n        this.setState({ isAddressCorrect: false })\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  onSave = async (e) => {\r\n    e.preventDefault();\r\n    const { history } = this.props\r\n    const { id, txtEmail, txtPassword, txtAddress, txtName,\r\n      txtUsername, txtPhone, role, txtBirthday, txtSkill, sex,txtAvatar,\r\n      isUsernameCorrect, isPasswordCorrect, isAddressCorrect, isEmailCorrect, isPhoneCorrect } = this.state;\r\n    const user = {\r\n      name: txtName,\r\n      username: txtUsername,\r\n      fullname: txtName,\r\n      email: txtEmail,\r\n      password: txtPassword,\r\n      avatar: txtAvatar,\r\n      mobile: txtPhone,\r\n      address: txtAddress,\r\n      skill: txtSkill,\r\n      roles: role,\r\n      sex: sex,\r\n      birthday: txtBirthday\r\n    }\r\n    await this.onValiations(txtUsername, txtAddress, txtPassword, txtEmail, txtPhone);\r\n    if (isUsernameCorrect && isPasswordCorrect && isAddressCorrect && isEmailCorrect && isPhoneCorrect) {\r\n      if (id) {\r\n        await this.props.onUpdateUser(id, user);\r\n      } else {\r\n        await this.props.onAddUser(user);\r\n      }\r\n\r\n      history.goBack();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { id, txtUsername, txtPassword, txtEmail, txtSkill, txtPhone, txtBirthday,\r\n      txtAddress, role, txtName, txtAvatar,\r\n      isAddressCorrect, isEmailCorrect, isPasswordCorrect, isPhoneCorrect, isUsernameCorrect\r\n    } = this.state;\r\n    return (\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <form onSubmit={this.onSave}>\r\n            <div className=\"card-header\">\r\n              <strong></strong>\r\n            </div>\r\n            <div className=\"tile\">\r\n              \r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6\">\r\n                  <div className=\"form-group\">\r\n                    <p value={id}></p>\r\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"exampleInputEmail1\"\r\n                      type=\"email\"\r\n                      aria-describedby=\"emailHelp\"\r\n                      placeholder=\"Enter email\"\r\n                      name=\"txtEmail\"\r\n                      value={txtEmail}\r\n                      onChange={this.onChange}\r\n                      required\r\n                    />\r\n                    {isEmailCorrect ? <span></span> : <span>Email is invalid</span>}\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"exampleInputPassword1\"\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      name=\"txtPassword\"\r\n                      value={txtPassword}\r\n                      onChange={this.onChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  {isPasswordCorrect ? <span></span> : <span>Password at least 6 characters</span>}\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleSelect1\">Quyền</label>\r\n                    <select className=\"form-control\" id=\"exampleSelect1\"\r\n                      onChange={this.onChange} value={role} name=\"role\"\r\n                    >\r\n                      <option selected=\"selected\"></option>\r\n                      <option name=\"User\">ROLE_USER</option>\r\n                      <option name=\"Admin\">ROLE_ADMIN</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleTextarea\">Kỹ năng</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"exampleTextarea\"\r\n                      rows={3}\r\n                      name=\"txtSkill\"\r\n                      value={txtSkill}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputFile\">File input</label>\r\n\r\n                    <DropzoneImg onHandleAvatar={this.onHandleImage} />\r\n                  </div>\r\n              {id ? <Image publicId={txtAvatar} type=\"fetch\">\r\n              <Transformation width=\"200\" height=\"200\" gravity=\"face\" radius=\"max\" crop=\"fill\" fetchFormat=\"auto\" />\r\n                </Image>:null}\r\n                </div>\r\n                <div className=\"col-lg-4 offset-lg-1\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"col-form-label\" htmlFor=\"inputDefault\">Username</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"inputDefault\"\r\n                      type=\"text\"\r\n                      name=\"txtUsername\"\r\n                      value={txtUsername}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputName\">Họ tên</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"exampleInputPassword1\"\r\n                      type=\"text\"\r\n                      placeholder=\"Name\"\r\n                      name=\"txtName\"\r\n                      value={txtName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"col-form-label\" htmlFor=\"inputDefault\">Địa chỉ</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"inputDefault\"\r\n                      type=\"text\"\r\n                      name=\"txtAddress\"\r\n                      value={txtAddress}\r\n                      onChange={this.onChange}\r\n                    />\r\n                    {isAddressCorrect ? <span></span> : <span>Address at least 4 characters</span>}\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"col-form-label\" htmlFor=\"inputDefault\">Số điện thoại</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      id=\"inputDefault\"\r\n                      type=\"text\"\r\n                      name=\"txtPhone\"\r\n                      value={txtPhone}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"col-form-label\" htmlFor=\"inputDefault\">Ngày sinh</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"actor-input\"\r\n                      name=\"txtBirthday\"\r\n                      className=\"form-control\"\r\n                      value={txtBirthday}\r\n                      onChange={this.onChange}\r\n\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"tile-footer\">\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-success btn-sm\"\r\n                >\r\n                  Save\r\n            </button>\r\n                &nbsp;\r\n\r\n              &nbsp;\r\n              <Link to=\"/manager/user\">\r\n                  <button className=\"btn btn-danger btn-sm\" type=\"button\">Back</button>\r\n                </Link>\r\n              </div>\r\n\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  itemEditing: state.itemEditing\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAddUser: (user) => {\r\n      dispatch(actAddUserRequest(user));\r\n    },\r\n    onEditUser: (id) => {\r\n      dispatch(actGetUserRequest(id));\r\n    },\r\n    onUpdateUser: (id, user) => {\r\n      dispatch(actUpdateUserRequest(id, user));\r\n    }\r\n  \r\n  }\r\n}\r\nconst CreateUserWithRouter = withRouter(CreateUser);\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUserWithRouter)\r\n"]},"metadata":{},"sourceType":"module"}