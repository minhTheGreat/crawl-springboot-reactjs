{"ast":null,"code":"import _defineProperty from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\NoteJS\\\\final\\\\src\\\\views\\\\Manager\\\\create\\\\CreateNew.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { saveCategoryRequest } from './../../../actions/categoryAction';\nimport { addNewsRequest, crawlerNews as _crawlerNews } from './../../../actions/newsAction';\nimport API from './../../../utils/api';\nimport UpLoadImg from './../../UpLoadImg';\nexport var createNew =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(createNew, _Component);\n\n  function createNew(props) {\n    var _this;\n\n    _classCallCheck(this, createNew);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(createNew).call(this, props));\n\n    _this.onChange = function (e) {\n      var target = e.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n\n      if (name === 'categoryId') {\n        console.log(value);\n      }\n\n      _this.setState(_defineProperty({}, name, value));\n\n      console.log(_this.state);\n    };\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n      var userID = localStorage.getItem('authentication', id);\n      console.log(_this.state);\n      var _this$state = _this.state,\n          id = _this$state.id,\n          categoryId = _this$state.categoryId,\n          newsAvatar = _this$state.newsAvatar,\n          newsTitle = _this$state.newsTitle,\n          newsPostDay = _this$state.newsPostDay,\n          newsContent = _this$state.newsContent;\n\n      if (id) {\n        var newupdate = {\n          id: {\n            tblCategoriesId: categoryId\n          },\n          tblCategory: {\n            categoryId: categoryId\n          },\n          tblUser: {\n            userId: userID\n          },\n          newsAvatar: newsAvatar,\n          newsTitle: newsTitle,\n          newsPostDay: newsPostDay,\n          newsContent: newsContent\n        };\n        API.put(\"new/\".concat(id), newupdate).then(function (reps) {\n          if (reps.status === 200) {\n            alert('Them thanh cong');\n          }\n        });\n      } else {\n        var news = {\n          id: {\n            tblCategoriesId: categoryId\n          },\n          tblCategory: {\n            categoryId: categoryId\n          },\n          tblUser: {\n            userId: 1\n          },\n          newsAvatar: newsAvatar,\n          newsTitle: newsTitle,\n          newsPostDay: newsPostDay,\n          newsContent: newsContent\n        };\n\n        _this.props.addNews(news);\n\n        _this.props.crawlerNews();\n      }\n    };\n\n    _this.onClear = function () {\n      _this.setState({\n        id: '',\n        categoryId: null,\n        userId: \"\",\n        newsAvatar: \"\",\n        newsTitle: '',\n        newsPostDay: '',\n        newsContent: '',\n        slt: 0\n      });\n    };\n\n    _this.onGetUrl = function (url) {\n      console.log(url);\n\n      _this.setState({\n        newsAvatar: url\n      });\n\n      console.log(_this.state.newsAvatar);\n    };\n\n    _this.state = {\n      id: '',\n      categoryId: 0,\n      userEmail: '',\n      newsAvatar: '',\n      newsTitle: '',\n      newsPostDay: '',\n      newsContent: ''\n    };\n    return _this;\n  }\n\n  _createClass(createNew, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.getCategory();\n      var match = this.props.match;\n      console.log(match);\n\n      if (match) {\n        var id = match.params.id;\n        console.log(id);\n        API.get(\"new/\".concat(id)).then(function (reps) {\n          var data = reps.data;\n          console.log(data);\n\n          _this2.setState({\n            id: data.id.newsId,\n            newsAvatar: data.newsAvatar,\n            newsPostDay: data.newsPostDay,\n            newsContent: data.newsContent,\n            categoryId: data.id.tblCategoriesId,\n            newsTitle: data.newsContent,\n            userEmail: data.tblUser.userEmail\n          });\n\n          console.log(_this2.state);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var category = this.props.category;\n      var elem = category.map(function (n, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: n.categoryId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, n.categoryTitle);\n      });\n      var _this$state2 = this.state,\n          userEmail = _this$state2.userEmail,\n          categoryId = _this$state2.categoryId,\n          newsAvatar = _this$state2.newsAvatar,\n          newsPostDay = _this$state2.newsPostDay,\n          newsContent = _this$state2.newsContent,\n          newsTitle = _this$state2.newsTitle,\n          slt = _this$state2.slt;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"S\\u1EEDa tin t\\u1EE9c\")), React.createElement(\"div\", {\n        className: \"card-body card-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"form-horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"text-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Ti\\xEAu \\u0111\\u1EC1 b\\xE0i vi\\u1EBFt\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"newsTitle\",\n        placeholder: \"T\\xEAn ti\\xEAu \\u0111\\u1EC1\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        value: newsTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"text-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Chuy\\xEAn m\\u1EE5c\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        name: \"categoryId\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        value: categoryId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, elem))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"file-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"File \\u1EA3nh\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(UpLoadImg, {\n        onGetUrl: this.onGetUrl,\n        URL: newsAvatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"file-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"N\\u1ED9i dung\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: \"ckeditor\",\n        name: \"newsContent\",\n        onChange: this.onChange,\n        value: newsContent,\n        rows: \"5\",\n        cols: \"70\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"file-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Ng\\u01B0\\u1EDDi \\u0111\\u0103ng\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"userId\",\n        placeholder: \" ng\\u01B0\\u1EDDi t\\u1EA1o\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        value: userEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"file-input\",\n        className: \" form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Ng\\xE0y t\\u1EA1o\")), React.createElement(\"div\", {\n        className: \"col-12 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        name: \"newsPostDay\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        value: newsPostDay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"card-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \" Luu\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger btn-sm\",\n        onClick: this.onClear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), \" Reset\"))), React.createElement(\"upLoadImg\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return createNew;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    category: state.category\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispath, props) {\n  return {\n    getCategory: function getCategory() {\n      dispath(saveCategoryRequest());\n    },\n    addNews: function addNews(news) {\n      dispath(addNewsRequest(news));\n    },\n    crawlerNews: function crawlerNews() {\n      dispath(_crawlerNews());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(createNew);","map":{"version":3,"sources":["F:\\NoteJS\\final\\src\\views\\Manager\\create\\CreateNew.js"],"names":["React","Component","connect","saveCategoryRequest","addNewsRequest","crawlerNews","API","UpLoadImg","createNew","props","onChange","e","target","name","value","type","checked","console","log","setState","state","onSubmit","event","preventDefault","userID","localStorage","getItem","id","categoryId","newsAvatar","newsTitle","newsPostDay","newsContent","newupdate","tblCategoriesId","tblCategory","tblUser","userId","put","then","reps","status","alert","news","addNews","onClear","slt","onGetUrl","url","userEmail","getCategory","match","params","get","data","newsId","category","elem","map","n","index","categoryTitle","mapStateToProps","mapDispatchToProps","dispath"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { saveCategoryRequest } from './../../../actions/categoryAction'\nimport { addNewsRequest,crawlerNews } from './../../../actions/newsAction'\nimport API from './../../../utils/api'\n\nimport UpLoadImg from './../../UpLoadImg'\nexport class createNew extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      id: '',\n      categoryId: 0,\n      userEmail: '',\n      newsAvatar: '',\n      newsTitle: '',\n      newsPostDay: '',\n      newsContent:'',\n      \n    };\n  }\n  componentDidMount() {\n    this.props.getCategory();\n    var { match } = this.props;\n    console.log(match)\n    if (match) {\n      var id = match.params.id;\n      console.log(id)\n      API.get(`new/${id}`).then(reps => {\n        var data = reps.data;\n        console.log(data)\n        this.setState({\n          id: data.id.newsId,\n          newsAvatar: data.newsAvatar,\n          newsPostDay: data.newsPostDay,\n          newsContent: data.newsContent,\n          categoryId: data.id.tblCategoriesId,\n          newsTitle: data.newsContent,\n          userEmail:data.tblUser.userEmail\n\n        });\n        console.log(this.state)\n\n      });\n\n    }\n\n  }\n  onChange = (e) => {\n    var target = e.target;\n    var name = target.name;\n   \n    var value = target.type === 'checkbox' ? target.checked : target.value;\n    if(name==='categoryId')\n    {\n      console.log(value)\n    }\n    this.setState({\n      [name]: value\n    });\n    console.log(this.state)\n\n  }\n  onSubmit = (event) => {\n    event.preventDefault();\n    const userID=localStorage.getItem('authentication',id)\n    console.log(this.state);\n    var { id, categoryId, newsAvatar, newsTitle, newsPostDay, newsContent } = this.state;\n    if (id) {\n      var newupdate = {\n        id: {\n          tblCategoriesId: categoryId\n        },\n        tblCategory: {\n          categoryId: categoryId\n        },\n        tblUser: {\n          userId: userID\n        },\n        newsAvatar: newsAvatar,\n        newsTitle: newsTitle,\n        newsPostDay: newsPostDay,\n        newsContent: newsContent\n      }\n      API.put(`new/${id}`, newupdate).then(reps => {\n        if (reps.status === 200) {\n          alert('Them thanh cong');\n        }\n      });\n    } else {\n      var news = {\n        id: {\n          tblCategoriesId: categoryId\n        },\n        tblCategory: {\n          categoryId: categoryId\n        },\n        tblUser: {\n          userId: 1\n        },\n        newsAvatar: newsAvatar,\n        newsTitle: newsTitle,\n        newsPostDay: newsPostDay,\n        newsContent: newsContent\n      }\n      this.props.addNews(news);    \n      this.props.crawlerNews();\n    }\n  }\n  onClear = () => {\n    this.setState({\n      id: '',\n      categoryId: null,\n      userId: \"\",\n      newsAvatar: \"\",\n      newsTitle: '',\n      newsPostDay:'',\n      newsContent: '',\n      slt: 0\n\n    });\n  }\n  onGetUrl=(url)=>\n  {\n    console.log(url)\n    this.setState({\n      newsAvatar:url\n    });\n    console.log(this.state.newsAvatar)\n  }\n  render() {\n    var { category } = this.props\n    \n    var elem = category.map((n, index) => {\n      return (<option \n        key={index}\n        value={n.categoryId}>{n.categoryTitle}</option>\n      )\n    });\n    var { userEmail, categoryId, newsAvatar, newsPostDay, newsContent, newsTitle, slt } = this.state;\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <label className=\"col-form-label\">Sửa tin tức</label>\n              </div>\n              <div className=\"card-body card-block\">\n                <form onSubmit={this.onSubmit} className=\"form-horizontal\">\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-3\">\n                      <label htmlFor=\"text-input\" className=\" form-control-label\">Tiêu đề bài viết</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                      <input type=\"text\" \n                        name=\"newsTitle\"\n                        placeholder=\"Tên tiêu đề\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        value={newsTitle} />\n                    </div>\n                  </div>\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-3\">\n                      <label htmlFor=\"text-input\" className=\" form-control-label\">Chuyên mục</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                      <select name=\"categoryId\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        value={categoryId}\n                      >\n                        {elem}\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-10\">\n                      <label htmlFor=\"file-input\" className=\" form-control-label\">File ảnh</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                    <UpLoadImg\n                    onGetUrl={this.onGetUrl}\n                    URL={newsAvatar}\n                    />\n                    </div>\n                  </div>\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-3\">\n                      <label htmlFor=\"file-input\" className=\" form-control-label\">Nội dung</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                      <div className=\"form-group\">\n                        <div className=\"row\">\n                          <div className=\"col-md-12\">\n                            <textarea className=\"ckeditor\"\n                              name=\"newsContent\"\n                              onChange={this.onChange}\n                              value={newsContent}\n                              rows=\"5\" cols=\"70\" />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-3\">\n                      <label htmlFor=\"file-input\" className=\" form-control-label\">Người đăng</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                      <input type=\"text\"\n                        name=\"userId\"\n                        placeholder=\" người tạo\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        value={userEmail} />\n                    </div>\n                  </div>\n                  <div className=\"row form-group\">\n                    <div className=\"col col-md-3\">\n                      <label htmlFor=\"file-input\" className=\" form-control-label\">Ngày tạo</label>\n                    </div>\n                    <div className=\"col-12 col-md-9\">\n                      <input type=\"date\"\n                        name=\"newsPostDay\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        value={newsPostDay} />\n                    </div>\n                  </div>\n\n                  <div className=\"card-footer\">\n                    <button type=\"submit\" className=\"btn btn-primary btn-sm\">\n                      <i className=\"fa fa-dot-circle-o\" /> Luu\n              </button>\n                    <button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.onClear}>\n                      <i className=\"fa fa-ban\" /> Reset\n              </button>\n                  </div>\n                </form>\n                <upLoadImg/>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    category: state.category\n  }\n\n}\n\nconst mapDispatchToProps = (dispath, props) => {\n  return {\n    getCategory: () => {\n\n      dispath(saveCategoryRequest());\n    },\n    addNews: (news) => {\n\n      dispath(addNewsRequest(news));\n    },\n    crawlerNews: ()=>{\n      dispath(crawlerNews());\n    }\n  }\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(createNew)"]},"metadata":{},"sourceType":"module"}