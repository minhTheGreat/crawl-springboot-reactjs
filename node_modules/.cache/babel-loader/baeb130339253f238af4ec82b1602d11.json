{"ast":null,"code":"import _classCallCheck from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"F:\\\\NoteJS\\\\final\\\\src\\\\views\\\\UpLoadImg.js\";\nimport React, { Component } from 'react';\nimport { storage } from './../Config/configFireBase';\n\nvar ImageUpload =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageUpload, _Component);\n\n  function ImageUpload(props) {\n    var _this;\n\n    _classCallCheck(this, ImageUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageUpload).call(this, props));\n\n    _this.handleChange = function (e) {\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n\n        _this.setState(function () {\n          return {\n            image: image\n          };\n        });\n      }\n    };\n\n    _this.handleUpload = function () {\n      var image = _this.state.image;\n      var uploadTask = storage.ref(\"images/\".concat(image.name)).put(image);\n      uploadTask.on('state_changed', function (snapshot) {\n        // progrss function ....\n        var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n        _this.setState({\n          progress: progress\n        });\n      }, function (error) {\n        // error function ....\n        console.log(error);\n      }, function () {\n        // complete function ....\n        storage.ref('images').child(image.name).getDownloadURL().then(function (url) {\n          console.log(url);\n\n          _this.setState({\n            url: url\n          });\n\n          _this.props.onGetUrl(url);\n        });\n      });\n    };\n\n    _this.URL = function (url) {\n      console.log(url);\n    };\n\n    _this.state = {\n      image: null,\n      url: '',\n      utl: '',\n      progress: 0\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ImageUpload, [{\n    key: \"render\",\n    value: function render() {\n      var URL = this.props.URL;\n      this.URL(URL);\n      var style = {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n      };\n      return React.createElement(\"div\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"progress\", {\n        value: this.state.progress,\n        max: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Upload\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: this.state.url || this.props.URL,\n        alt: \"Uploaded images\",\n        height: \"150\",\n        width: \"250\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ImageUpload;\n}(Component);\n\nexport default ImageUpload;","map":{"version":3,"sources":["F:\\NoteJS\\final\\src\\views\\UpLoadImg.js"],"names":["React","Component","storage","ImageUpload","props","handleChange","e","target","files","image","setState","handleUpload","state","uploadTask","ref","name","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","url","onGetUrl","URL","utl","bind","style","display","flexDirection","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {storage} from './../Config/configFireBase';\r\n\r\nclass ImageUpload extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      image: null,\r\n      url: '',\r\n      utl:'',\r\n      progress: 0\r\n    }\r\n    this.handleChange = this\r\n      .handleChange\r\n      .bind(this);\r\n      this.handleUpload = this.handleUpload.bind(this);\r\n  }\r\n  \r\n  handleChange = e => {\r\n    if (e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      this.setState(() => ({image}));\r\n    }\r\n  }\r\n  handleUpload = () => {\r\n      const {image} = this.state;\r\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n      uploadTask.on('state_changed', \r\n      (snapshot) => {\r\n        // progrss function ....\r\n        const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n        this.setState({progress});\r\n      }, \r\n      (error) => {\r\n           // error function ....\r\n        console.log(error);\r\n      }, \r\n    () => {\r\n        // complete function ....\r\n        storage.ref('images').child(image.name).getDownloadURL().then(url => {\r\n            console.log(url);\r\n            this.setState({url});\r\n            this.props.onGetUrl(url)\r\n        })\r\n    });\r\n  }\r\n  URL=(url)=>\r\n  {\r\n    console.log(url)\r\n    \r\n  }\r\n  render() {\r\n    var{URL}=this.props\r\n    this.URL(URL)\r\n    const style = {\r\n      \r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n      \r\n    };\r\n    \r\n    return (\r\n      <div style={style}>\r\n      { <progress value={this.state.progress} max=\"100\"/>}\r\n      <br/>\r\n        <input type=\"file\" onChange={this.handleChange}/>\r\n        <button onClick={this.handleUpload}>Upload</button>\r\n        <br/>\r\n        { <img src={this.state.url||this.props.URL } alt=\"Uploaded images\" height=\"150\" width=\"250\" /> }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}