{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\NoteJS\\\\final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport * as Types from '../Config/managerConstant';\nimport API from '../utils/api';\nimport APIvn from '../utils/vnexpress';\nimport history from '../Config/history'; //fetch News\n\nexport var actFetchNewsRequest = function actFetchNewsRequest(currentPage, size) {\n  return function (dispatch) {\n    return API.get(\"/news/getall/?page=\".concat(currentPage, \"&size=\").concat(size)).then(function (res) {\n      dispatch(actFetchNews(res.data.content, res.data.totalPages, res.data.totalElement));\n    });\n  };\n};\nexport var actFetchNews = function actFetchNews(news, totalPages, totalElement) {\n  return {\n    type: Types.FETCH_NEWS,\n    news: news,\n    totalPages: totalPages,\n    totalElement: totalElement\n  };\n}; //crawl news\n\nexport var actCrawlNewsVnexpress = function actCrawlNewsVnexpress(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return API.get(\"/news/crawl/\".concat(id));\n\n              case 3:\n                dispatch(actFetchNewsRequest(0, 20));\n                dispatch({\n                  type: Types.CRAWLER\n                });\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var actCrawlNewsDantri = function actCrawlNewsDantri(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return API.get(\"/news/crawl/\".concat(id));\n\n              case 3:\n                dispatch(actFetchNewsRequest(0, 20));\n                dispatch({\n                  type: Types.CRAWLER\n                });\n                _context2.next = 9;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}; //get news in homepage\n\nexport var actGetHomeNews = function actGetHomeNews() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var _ref4, data;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return API.get(\"/home/getall\");\n\n              case 3:\n                _ref4 = _context3.sent;\n                data = _ref4.data;\n                dispatch({\n                  type: Types.HOME,\n                  news: data\n                });\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 8]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n}; //delete news\n\nexport var actDeleteNews = function actDeleteNews(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return API.delete(\"/news/\".concat(id));\n\n              case 3:\n                dispatch({\n                  type: Types.DELETE_NEWS,\n                  payload: id\n                });\n                _context4.next = 8;\n                break;\n\n              case 6:\n                _context4.prev = 6;\n                _context4.t0 = _context4[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 6]]);\n      }));\n\n      return function (_x4) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n}; //find category by source id\n\nexport var actFetchCategory = function actFetchCategory(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var _ref7, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return API.get(\"/news/getcategory/\".concat(id));\n\n              case 3:\n                _ref7 = _context5.sent;\n                data = _ref7.data;\n                dispatch({\n                  type: Types.FIND_CATEGORY_BYSOURCEID,\n                  categories: data\n                });\n                _context5.next = 10;\n                break;\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](0);\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 8]]);\n      }));\n\n      return function (_x5) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["F:\\NoteJS\\final\\src\\actions\\newsAction.js"],"names":["Types","API","APIvn","history","actFetchNewsRequest","currentPage","size","dispatch","get","then","res","actFetchNews","data","content","totalPages","totalElement","news","type","FETCH_NEWS","actCrawlNewsVnexpress","id","CRAWLER","actCrawlNewsDantri","actGetHomeNews","HOME","actDeleteNews","delete","DELETE_NEWS","payload","actFetchCategory","FIND_CATEGORY_BYSOURCEID","categories"],"mappings":"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","sourcesContent":["\nimport * as Types from '../Config/managerConstant';\nimport API from '../utils/api';\nimport APIvn from '../utils/vnexpress'\nimport  history  from '../Config/history'\n\n\n//fetch News\nexport const actFetchNewsRequest = (currentPage, size) => {\n    return (dispatch) => {\n        return API.get(`/news/getall/?page=${currentPage}&size=${size}`).then(res => {\n            dispatch(actFetchNews(res.data.content, res.data.totalPages, res.data.totalElement))\n\n        })\n    }\n}\nexport const actFetchNews = (news, totalPages, totalElement) => {\n    return {\n        type: Types.FETCH_NEWS,\n        news, totalPages, totalElement\n    }\n}\n//crawl news\nexport const actCrawlNewsVnexpress = (id) => async dispatch => {\n\n    try {\n        await API.get(`/news/crawl/${id}`)\n        dispatch(actFetchNewsRequest(0,20))\n        dispatch({ type: Types.CRAWLER })\n      \n    } catch (err) {\n\n    }\n}\nexport const actCrawlNewsDantri=(id)=> async dispatch=>{\n    try{\n        await API.get(`/news/crawl/${id}`)\n        dispatch(actFetchNewsRequest(0,20))\n        dispatch({ type: Types.CRAWLER })\n        \n    }catch(err){\n\n    }\n}\n\n//get news in homepage\nexport const actGetHomeNews=()=> async dispatch=>{\n    try{\n       const {data}= await API.get(`/home/getall`)\n        dispatch({type:Types.HOME,news:data})\n    }catch(err){\n\n    }\n}\n//delete news\nexport const actDeleteNews= id => async dispatch =>{\n    try{\n        await API.delete(`/news/${id}`)\n        dispatch({type:Types.DELETE_NEWS,payload:id})\n    }catch(err){\n\n    }\n}\n//find category by source id\nexport const actFetchCategory=id=> async dispatch=>{\n    try{\n        const {data}= await API.get(`/news/getcategory/${id}`)\n        dispatch({type:Types.FIND_CATEGORY_BYSOURCEID,categories:data})\n    }catch{\n\n    }\n}"]},"metadata":{},"sourceType":"module"}